{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///media/amrbassem218/22C0575DC05735EF/door-to-door/src/getRates.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\ntype Rates = Record<string, number>;\r\n\r\nexport function useCurrencyRates() {\r\n  const [rates, setRates] = useState<Rates>({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    const fetchRates = async() => {\r\n      try {\r\n        const url = \"https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/egp.json\";\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        setRates(data.egp);\r\n        setLoading(false); // This is crucial - stops the infinite re-renders\r\n      } catch (error) {\r\n        console.error(\"Error fetching rates:\", error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchRates();\r\n  }, []);\r\n  \r\n  return { rates, loading };\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;;AAIO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ,CAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,IAAA,0KAAS;sCAAC;YACR,MAAM;yDAAa;oBACjB,IAAI;wBACF,MAAM,MAAM;wBACZ,MAAM,WAAW,MAAM,MAAM;wBAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,SAAS,KAAK,GAAG;wBACjB,WAAW,QAAQ,kDAAkD;oBACvE,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;wBACvC,WAAW;oBACb;gBACF;;YAEA;QACF;qCAAG,EAAE;IAEL,OAAO;QAAE;QAAO;IAAQ;AAC1B;GArBgB","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///media/amrbassem218/22C0575DC05735EF/door-to-door/src/components/ui/item.tsx"],"sourcesContent":["\"use client\";\r\nimport { useCurrencyRates } from \"@/getRates\";\r\nimport type { Product } from \"@/types/types\";\r\nimport { newPrice, price, save } from \"@/utilities\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport * as React from \"react\";\r\n\r\nimport { useUserCurrencyCode } from \"@/contexts/currencyContext\";\r\nimport { useEffect } from \"react\";\r\ninterface IItemProps {\r\n  item: Product;\r\n  col?: string;\r\n  style?: string;\r\n}\r\n\r\nconst Item: React.FunctionComponent<IItemProps> = ({ item, col, style }) => {\r\n  const { rates, loading } = useCurrencyRates();\r\n  const userCurrencyCode = useUserCurrencyCode();\r\n  const router = useRouter();\r\n  const { computedPrice, computedNewPrice } = React.useMemo(() => {\r\n    return {\r\n      computedNewPrice: newPrice(item, userCurrencyCode, rates),\r\n      computedPrice: price(item, userCurrencyCode, rates),\r\n    };\r\n  }, [item, userCurrencyCode, rates]);\r\n  if (loading) return <p>Loading prices...</p>;\r\n  return (\r\n    <div\r\n      onClick={() => router.push(`/product/${item.id}`)}\r\n      className={`${col} border-1 rounded-lg transition-transform duration-200 ease-in-out hover:scale-105 cursor-pointer bg-background ${style} px-2 w-40`}\r\n    >\r\n      {/* Item Image */}\r\n      <div className=\"h-24 rounded-t-lg flex items-center justify-center overflow-hidden \">\r\n        <img\r\n          loading=\"lazy\"\r\n          src={item.thumbnail}\r\n          alt=\"\"\r\n          className=\" object-contain h-full max-w-full\"\r\n        />\r\n      </div>\r\n      {/* <Separator className=''/> */}\r\n      {/* Item Description */}\r\n      <div className=\"mx-2 mt-2 pb-2 border-b-2 space-y-1\">\r\n        <h1 className=\"text-lg font-medium\">{item.name} </h1>\r\n        <div className=\"flex gap-2 text-md\">\r\n          <p className=\"font-bold\">{computedNewPrice} </p>\r\n          <p className=\"line-through decoration-1\">{computedPrice}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"mx-2 py-2\">\r\n        <p className=\"font-semibold text-green-600\">\r\n          Save {save(item, userCurrencyCode, rates)} {userCurrencyCode}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;AACA;AAEA;;;AAPA;;;;;;AAeA,MAAM,OAA4C,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE;;IACrE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,IAAA,uIAAgB;IAC3C,MAAM,mBAAmB,IAAA,6JAAmB;IAC5C,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,aAAa,EAAE,gBAAgB,EAAE,GAAG,wKAAa;wBAAC;YACxD,OAAO;gBACL,kBAAkB,IAAA,gIAAQ,EAAC,MAAM,kBAAkB;gBACnD,eAAe,IAAA,6HAAK,EAAC,MAAM,kBAAkB;YAC/C;QACF;uBAAG;QAAC;QAAM;QAAkB;KAAM;IAClC,IAAI,SAAS,qBAAO,6LAAC;kBAAE;;;;;;IACvB,qBACE,6LAAC;QACC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE;QAChD,WAAW,GAAG,IAAI,gHAAgH,EAAE,MAAM,UAAU,CAAC;;0BAGrJ,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,SAAQ;oBACR,KAAK,KAAK,SAAS;oBACnB,KAAI;oBACJ,WAAU;;;;;;;;;;;0BAKd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;;4BAAuB,KAAK,IAAI;4BAAC;;;;;;;kCAC/C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;;oCAAa;oCAAiB;;;;;;;0CAC3C,6LAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;;;;;;;0BAK9C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;;wBAA+B;wBACpC,IAAA,4HAAI,EAAC,MAAM,kBAAkB;wBAAO;wBAAE;;;;;;;;;;;;;;;;;;AAKtD;GA3CM;;QACuB,uIAAgB;QAClB,6JAAmB;QAC7B,kJAAS;;;KAHpB;uCA6CS","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///media/amrbassem218/22C0575DC05735EF/door-to-door/src/components/home/ListProds.tsx"],"sourcesContent":["'use client'\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport type { Product } from '@/types/types';\nimport Item from '@/components/ui/item';\nimport { getProducts } from '@/utils/products-utils';\ninterface IListProdProps {\n    limit?: number;\n    size: string;\n}\n\nconst ListProd: React.FunctionComponent<IListProdProps> = ({limit, size}) => {\n  const [items, setItems] = useState<Product[]>();\n  useEffect(() => {\n    const getProd = async() => {\n      const prod = await getProducts();\n      if(prod){\n        setItems(prod);\n      }\n    }\n    getProd();\n  }, [])\n  const colSize = size == \"large\" ? 'md:col-span-6 col-span-12' : 'sm:col-span-2 col-span-6';\n  return (\n    <div className='grid grid-cols-12 gap-2'>\n        {items && items.map((item, i) => \n            {\n                return (!limit || (limit && i < limit)) && ( \n                    <Item key={`${item.name}-${i}`} item={item} col={colSize} style='bg-card'/>\n                ) \n            }\n        )}\n    </div>\n  );\n};\n\nexport default ListProd;\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;;;AALA;;;;AAWA,MAAM,WAAoD,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC;;IACtE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ;IAClC,IAAA,0KAAS;8BAAC;YACR,MAAM;8CAAU;oBACd,MAAM,OAAO,MAAM,IAAA,oJAAW;oBAC9B,IAAG,MAAK;wBACN,SAAS;oBACX;gBACF;;YACA;QACF;6BAAG,EAAE;IACL,MAAM,UAAU,QAAQ,UAAU,8BAA8B;IAChE,qBACE,6LAAC;QAAI,WAAU;kBACV,SAAS,MAAM,GAAG,CAAC,CAAC,MAAM;YAEnB,OAAO,CAAC,CAAC,SAAU,SAAS,IAAI,KAAM,mBAClC,6LAAC,8IAAI;gBAA2B,MAAM;gBAAM,KAAK;gBAAS,OAAM;eAArD,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,GAAG;;;;;QAEtC;;;;;;AAIZ;GAvBM;KAAA;uCAyBS","debugId":null}}]
}